---
import headerLangs from "../../public/header.json";

const locales = [
  { code: "en-us", name: "English[US]" },
  { code: "en-uk", name: "English[UK]" },
  { code: "fr", name: "Français" },
  { code: "it", name: "Italiano" },
  { code: "de", name: "Deutsch" },
  { code: "es", name: "Español" },
  { code: "pt-br", name: "Português do Brasil" },
  { code: "zh-hant", name: "繁體中文" },
  { code: "zh-hans", name: "简体中文" },
  { code: "ko-kr", name: "한국어" },
  { code: "en-asia", name: "English[Asia]" },
  { code: "ja-jp", name: "日本語" },
];
const currentLocale = Astro.url.pathname.split("/")[1] || "en-us";
const header =
  (headerLangs as Record<string, (typeof headerLangs)["en-us"]>)[
    currentLocale
  ] || headerLangs["en-us"];
---

<header class="flex justify-end relative z-10 p-4">
  <!-- nav -->
  <ul class="flex text-white">
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#top`}
        class="hover:text-red font-[Teko] transition-colors">{header.top}</a
      >
    </li>
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#topics`}
        class="hover:text-red font-[Teko] transition-colors">{header.topics}</a
      >
    </li>
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#trailer`}
        class="hover:text-red font-[Teko] transition-colors">{header.trailer}</a
      >
    </li>
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#about`}
        class="hover:text-red font-[Teko] transition-colors">{header.about}</a
      >
    </li>
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#character`}
        class="hover:text-red font-[Teko] transition-colors"
        >{header.character}</a
      >
    </li>
    <li class="after:content-['-'] after:mr-1">
      <a
        href={`/${currentLocale}/#location`}
        class="hover:text-red font-[Teko] transition-colors"
        >{header.location}</a
      >
    </li>
    <li>
      <a
        href={`/${currentLocale}/#gameplay`}
        class="mr-2 hover:text-red font-[Teko] transition-colors"
        >{header.gameplay}</a
      >
    </li>
    <li>
      <div
        class="btn-buy relative bg-red px-4 cursor-pointer transition-colors hover:bg-red/80"
        style={`--pattern-url: url('/images/ui/site_pattern.png')`}
      >
        <a href={`/${currentLocale}/#buy`} class="font-[Teko] relative">
          {header.buy}
        </a>
      </div>
    </li>
  </ul>

  <!-- nav mobile -->
</header>

<style>
  .btn-buy::after {
    background-image: var(--pattern-url);
    background-position: center;
    background-repeat: no-repeat;
    background-size: 100%;
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.4;
  }
</style>
